<html>
<!-- Copyright 2015 Pushkar Piggott -->
<a name='top'>
<title>Reference</title>
<center><h1>Reference</h1></center>
<h2>Sections</h2>
<dl>
<dt><a href='#menus'>Menus</a>
<dd><dl>
<dt><a href='#file'>File</a>
<dt><a href='#counts'>Counts</a>
<dt><a href='#tutor'>Tutor</a>
<dt><a href='#help'>Help</a>
</dl>
<dt><a href='#dialogs'>Dialogs</a>
<dd><dl>
<dt><a href='#map'>Create Map File</a>
<dt><a href='#assess'>Assess Map File</a>
<dt><a href='#group'>Group Chords</a>
<dt><a href='#settings'>Twiddler Settings</a>
<dt><a href='#countsrange'>Range of Counts Displayed</a>
<dt><a href='#speed'>Chord Wait</a>
<dt><a href='#delay'>Chord Delay</a>
</dl>
<dt><a href='#windows'>Windows</a>
<dd><dl>
<dt><a href='#twiddler'>Twiddler</a>
<dt><a href='#text'>Text pane</a>
<dt><a href='#html'>Help</a></b>
<dt><a href='#stw'>Save text</a>
</dl>
<dt><a href='#stats'>Chord and keystroke numbers</a>
<dt><a href='#pref'>Preferences</a>
</dl>

<a name='menus'>
<h1>Menus</h1>
<a name='file'>
<h2>File</h2>
<dl>
<dt><a name='allchords'><b>Map All Chords...</b>
<dd>Opens a <a href='#stw'>Save Text window</a> showing a list of every thumb-less chord provided with a one keystroke mapping. 
Click the <em>Use</em> button to use this mapping, it is ideal for chording practice and timing. 
The menu item is disabled when this is the mapping in use (you can then use <em>File > Save As...</em> to view it). 
<dt><a name='open'><b>Open...</b>
<dd>Opens a <em>File Open</em> dialog. 
The selected <a href='syn.html#cfg'><tt>cfg.chords</tt></a> or <tt>cfg</tt> file becomes the chord mapping. 
<dt><a name='saveas'><b>Save As...</b>
<dd>Opens a <a href='#stw'>Save Text window</a> showing the current chord mapping. 
Click the window <em>Save As...</em> button to save it as <tt>cfg.chords</tt> or <tt>cfg</tt>.
<dt><b>Create Map File...</b>
<dd>Opens the <a href="#map">Create Map File dialog</a>.
<dt><b>Assess Map File...</b>
<dd>Opens the <a href="#assess">Assess Map File dialog</a>.
<dt><b>Group Chords...</b>
<dd>Opens the <a href="#group">Group Chords dialog</a>.
<dt><b>Twiddler Settings...</b>
<dd>Opens the <a href='#settings'>Twiddler Settings dialog</a> that allows you to modify the current configuration's Twiddler settings. 
<dt><b>Preferences...</b>
<dd>Allows you to select a location for the <a href="#pref">preference</a> text files. 
</dl>

<a name='counts'>
<h2>Counts</h2>
<dl>
<dt><b>Include Bigrams</b>
<dd> Whether to count bigrams (pairs of characters).
Changing this will clear any existing counts. 
<dt><b>Include Ngrams</b>
<dd> Whether to count the ngrams (sequences of characters) listed in the file of ngrams.
Changing this will clear any existing counts. 
This option is disabled if an ngrams file has not been selected. 
<dt><b>Ngrams File...</b>
<dd>Allows you to select a file of <a href='syn.html#ngram'><tt>ngrams</tt><a>. 
Changing this will clear any existing counts. 
<dt><b>Count File...</b>
<dd>Allows you to select a file and add its character counts to the stored counts. 
It is up to you to check that the file is ascii, the log reports any non-ascii (>127) bytes found. 
<dt><b>Count Files...</b>
<dd>Allows you to select a folder and add the character counts of all the files in the contained folder tree to the stored counts. 
It is up to you to check that all the files are ascii, the log reports any non-ascii (>127) bytes found. 
<dt><b>Set Range Displayed...</b>
<dd>Opens the <a href='#countsrange'>Range of Counts Displayed dialog</a>. 
<dt><b>Table Counts</b>
<dd>Opens a <a href='#stw'>Save Text window</a> displaying the character frequencies as a <a href="syn.html#ccount">table</a>. 
<dt><b>Graph Counts</b>
<dd>Opens a <a href='#stw'>Save Text window</a> displaying the character frequencies as a <a href="syn.html#graph">graph</a>. 
<dt><b>Clear Counts</b>
<dd>Clears the counts to zero.
</dl>

<a name='tutor'>
<h2>Tutor</h2>
<dl>
<dt><b>Show Twiddler</b>
<dd>Whether the <a href='#twiddler'>Twiddler window</a> is visible.
<dt><b>Vertical Twiddler</b>
<dd>Whether the <a href='#twiddler'>Twiddler window</a> is vertical or horizontal.
<dt><b>Left/Right Hand</b>
<dd>Sets the hand being used to twiddle. 
Hands are timed separately. 
(The progress bars are on the side away from your palm.)
<dt><a name='chords'><b>Chords</b>
<dd>Sets practice to random chords. 
The <a href='#text'>Text pane</a> will remain blank. 
Twidlit attempts to test all chords with equal probability, but can only show chords that are mapped. 
<dt><b>Keystrokes</b>
<dd>Sets practice to keystrokes read from a file. 
Clicking on this menu item displays a file chooser to open a <a href='syn.html#keys'>file of keystrokes</a>. 
If no file is chosen then upper and lower case alphabetic keys are used. 
<dt><b>Auto-scale</b>
<dd>Whether the <a href='#wait'>chord wait</a> is scaled automatically from the mean of chord means. 
This option is disabled if <em>Tutor > Timed</em> is not selected. 
<dt><b>Set Chord Wait...</b>
<dd>Opens the <a href='#speed'>Chord Wait dialog</a>. 
This option is disabled if <em>Tutor > Auto-scale</em> is selected. 
<dt><b>Set Chord Delay...</b>
<dd>Opens the <a href='#delay'>Chord Delay dialog</a>. 
This option is disabled if <em>Tutor > Chords</em> is selected. 
<dt><b>Timed</b>
<dd>Whether your chording (for the current hand) is timed.
<dt><a name='timelist'><b>List Chords By Time</b>
<dd>Opens a <a href='#stw'>Save Text window</a> showing a list of every thumb-less chord as a <a href="syn.html#timed"><tt>timed.chords</tt></a> file. 
<dt><b>Clear Times</b>
<dd>Clears the chording times for the current hand.
</dl>

<a name='help'>
<h2>Help</h2>
<dl>
<dt><b>Log</b>
<dd>Whether Twidlit writes information to a log file. 
The information may be useful when debugging preference or configuration files, 
but the file can become quite large if it is left on permanently. 
<dt><b>View Log</b>
<dd>Opens a text window displaying the log. 
The <em>Clear</em> button deletes the file. 
</dl>

<a name='dialogs'>
<h1>Dialogs</h1>
<a name='map'>
<h2>Create Map File</h2>
This dialog allows you to create a new <a href="syn.html#cfg"><tt>cfg.chords</tt></a> file.
<br><br>
Select a <a href="syn.html#chords"><tt>chords</tt></a> file and a <a href="syn.html#keys"><tt>keys</tt></a> file and click <em>OK</em>. 
Twidlit combines each chord from the <tt>chords</tt> file with the corresponding keystroke from the <tt>keys</tt> file to generate a mapping. 
If the selected files are <a href="syn.html#timed"><tt>timed.chords</tt></a> and <a href="syn.html#ccount"><tt>count.keys</tt></a> then you have matched your fastest chords with your most frequent characters. 
<br><br>
You can also specify a <tt>cfg.chords</tt> file of mappings you wish to preserve. 
These mappings are added to the output as-is, and the corresponding chords in the <tt>chords</tt> file are ignored. 
If you use a file of your chosen mnemonic mappings for less-used keystrokes then the result will be the combination of these with a fastest to most frequent mapping.  

<a name='assess'>
<h2>Assess Map File</h2>
Select the map file (<a href="syn.html#cfg"><tt>cfg.chords</tt></a>) you wish to assess, and your current chord times (<a href="syn.html#timed"><tt>timed.chords</tt></a>) and keystroke counts (<a href="syn.html#ccount"><tt>count.keys</tt></a>), and click <em>OK</em>. 
<br><br>
The chord and keystroke files are in order of speed and frequency respectively. 
Ideally, a mapping retains these orders so your faster chords map to your more frequent keys. 
In practice, you will move keystrokes up or down the order so as to correspond to chords that have some mnemonic or other association with them, or because you have other information about their frequency. 
<br><br>
The assessment creates a file that annotates each mapping with three values:
<ol>
<li>How many positions the keystroke has moved from its ideal location. 
<li>The percentage change of chord delay between the keystroke's ideal and actual positions. 
<li>The percentage change of keystroke occurrence between the keystroke's ideal and actual positions. 
</ol>

<a name='group'>
<h2>Group Chords</h2>
Optionally select a map file of interest, it divides the chord space into <em>used</em> (mapped) and <em>free</em> (unused) parts. 
If there is no map file then all chords are free. 
BTW: The map file <em>x</em> button on this dialog is a little bit magic, it toggles between the current map file (if available) and <em>none</em>.
<br><br>
Choose whether to group used or free chords. 
Used chords can be listed bare (horizontally) or as mappings (vertically). 
<br><br>
<em>Group by pattern</em> is a simple facility that lists the chords that match the given pattern. 
A pattern consists of four characters, one for each finger. 
Each character is from the first column of the following table: 
<pre><code>   Character       Meaning
   1 0 |           |
   2 r R ,         ,
   3               | or ,
   4 m M -         -
   5               | or - 
   6               , or - 
   7               | or , or - 
   8 l L '         ' 
   9               | or ' 
   a A             , or ' 
   b B             | or , or ' 
   c C             - or ' 
   d D             | or - or ' 
   e E             , or - or ' 
   f F ?           any</code></pre>
For example, with no map file selected, <code>|a-?</code> yields:
<pre><code>|a-?   8: |,-| |'-| |,-, |'-, |,-- |'-- |,-' |'-'</code></pre>
If <em>Group used chords</em> is selected then the mappings are listed. 
<br><br>
<em>Generate patterns</em> takes two patterns and combines them to generate a series of patterns and their lists of chords. 
Twidlit generates a pattern of every permutation of buttons allowed by the first pattern, and fills in the gaps with the corresponding characters from the second pattern. 
<br><br>
Dots ('.') can be used in either pattern, but not in the same finger in both. 
Result patterns containing dots or yielding fewer than the set minimum size are ignored. 
<br><br>
For example, with no map file selected, <code>|a-. ...?</code> yields:
<pre><code>|,-?   4: |,-| |,-, |,-- |,-' 
|'-?   4: |'-| |'-, |'-- |'-' 
</code></pre>

<a name='settings'>
<h2>Twiddler Settings</h2>
Use the sliders and checkboxes to change the Twiddler settings in the current configuration. 
They will come into effect next time you save the configuration to the Twiddler. 
Use the button to the right to reset to the default value. 
Any setting not at its default will also appear in the <a href='syn.html#cfg'><tt>cfg.chords</tt></a> file. 
<br><br>
Click on the version number to change between Twiddler versions 2 and 3. 
Be sure the correct version is showing when you close the dialog, and to save the configuration if you want to keep the changes.

<a name='countsrange'>
<h2>Range of Counts Displayed</h2>
This dialog adjusts the range of character frequencies displayed as a table or a graph. 
It is particularly useful with graphs to improve the resolution. 

<a name='speed'>
<h2>Chord Wait</h2>
This dialog adjusts the time Twidlit <a href="#wait">waits</a> for a chord to be pressed. 

<a name='delay'>
<h2>Chord Delay</h2>
This dialog adjusts the time between a keystroke being highlighted in the <a href='#text'>Text pane</a> and the chord being displayed in the <a href='#twiddler'>Twiddler window</a>. 

<a name='windows'>
<h1>Windows</h1>
<a name='twiddler'>
<h2>Twiddler</h2>
<a name="orient">
<h3>Orientation</h3>
The Twiddler window can be oriented <a href='#tutor'>horizontally or vertically</a>. 
You might think it a no-brainer that you want it vertical, but think again. 
As long as you are working with chords written as text you will be thinking of them going left to right, index to little finger. 
Why make it harder for yourself by having to rotate them to vertical?
<br><br>
If it offends you to hold the Twiddler horizontally, just do your gangsta act and it will come naturally.

<h3>Chords</h3>
The Twiddler window highlights the chord to press. 
It also marks any chord that is pressed, in yellow if it matches and black otherwise. 
<br><br>
Sometimes nothing appears when you thought you pressed a chord. 
This is the result of a miss-key: the Twiddler generates nothing if two or more buttons are pressed in the same row. 

<a name="wait">
<h3>Timing</h3>
There are three timing progress bars running alongside the Twiddler display. 
A fourth bar runs crosswise at their base and indicates the number of samples of each chord collected so far (up to the <a href='#preferences'><tt>chord.times.stored</tt></a>). 
<br><br>
The timing bars' extent is the <em>chord wait</em>. 
The dashed lines between the bars mark out the seconds. 
The outer-most bar shows the mean of the mean times of all the chords, the middle bar shows the mean time for the current chord, and the inner-most (timer) bar shows the elapsed time.
<br><br>
If the elapsed time exceeds the chord wait, the timer bar goes red for up to the chord wait, and then blank. 
If the bar is blank the chord's time is ignored. 
<br><br>
Twidlit only attempts to record the time of a chord if it takes less than twice the chord wait.
This allows you to just stop at any time. 
Timing restarts with the next chord, and the chord that went untimed will be repeated soon. 
<br><br>
The chord wait can be adjusted using <em><a href="#tutor">Tutor<a> > Set Chord Wait...</em>, or simply left to auto-scale. 
It comprises the following: 
<dl>
<dt><b>Delay</b>
<dd>
The delay is not used when random chording. 
It is the length of time after a keystroke is highlighted in the <a href='#text'>Text pane</a> before its chord is highlighted in the Twiddler window. 
It can be adjusted using <em><a href="#tutor">Tutor<a> > Set Chord Delay...</em> 
<dt><b>Highlight time</b>
<dd>
The highlight time is the time a chord is highlighted in the Twiddler window. 
<dt><b>Hide time</b>
<dd>
The hide time is the remaining chord wait, when the chord is not visible. 
</dl>
The relationships between the times can be adjusted using the <a href='#pref'>Preferences</a>.

<h3>Ambiguity</h3>
If you like, you can map more than one chord to a keystroke.
You might choose to map a thumb-less cord to <em>A</em>, for example. 
<em>A</em> can then be generated by this chord or by the chord for <em>a</em> plus the <em>Shift</em> thumb button.
<br><br>
This is a problem for Twidlit because it does not know which chord was pressed when an <em>A</em> arrives. 
The Twiddler window always displays the chord with the least number of thumb buttons.
If there is still ambiguity it displays the chord with the least number of finger buttons.

<a name='text'>
<h2>Text pane</h2>
The Text pane is in the main window, underneath the menu bar. 
It displays the upcoming keystrokes with the current keystroke highlighted. 
It remains blank if <em><a href="#chords">Tutor > Chords<a></em> is checked. 

<a name='html'>
<h2>Help</h2>
Navigation buttons (back and forwards) appear at the top of the Help window if you follow an internal link. 

<a name='stw'>
<h2>Save Text</h2>
The Save Text window displays text that can be selected, copied or saved. 
Editing is not supported. 
<br><br>
You can use the <em>Save As...</em> button to save the contents. 
If it contains chord mappings, the save dialog allows you to save it as <tt>cfg.chords</tt> or <tt>cfg</tt>. 
If it contains chords, the <em>As 0MRL</em> button allows you to convert them to 0MRL format. 

<a name='stats'>
<h1>Chord and keystroke numbers</h1>
Here are some chord numbers: 
<table style="width:80%">
  <tr><td>One button chords</td><td align='right'>12</td></tr>
  <tr><td>Two buttons chords</td><td align='right'>54</td></tr>
  <tr><td>Three buttons chords</td><td align='right'>108</td></tr>
  <tr><td>Four buttons chords</td><td align='right'>81</td></tr>
  <tr><td><strong>Total chords</strong></td><td align='right'><strong>255</strong></td></tr>
</table>
<br>
And some character numbers: 
<table style="width:80%">
  <tr><td>Alphabet</td><td align='right'>52</td></tr>
  <tr><td>Digits</td><td align='right'>10</td></tr>
  <tr><td>Punctuation</td><td align='right'>32</td></tr>
  <tr><td>White space</td><td align='right'>3</td></tr>
  <tr><td><strong>Total printable</strong></td><td align='right'><strong>97</strong></td></tr>
</table>
<br>
And some key numbers: 
<table style="width:80%">
  <tr><td>Function keys</td><td align='right'>12</td></tr>
  <tr><td>Cursor keys</td><td align='right'>8</td></tr>
  <tr><td>Others (Esc, Del, Backspace)</td><td align='right'>3</td></tr>
  <tr><td><strong>Total unprintable</strong></td><td align='right'><strong>23</strong></td></tr>
</table>

<a name='pref'>
<h1>Preferences</h1>
Much of the way Twidlit looks and works can be tuned by editing the preference text files. 
You may need to edit one or more if you use interesting characters or an OS other than Windows. 
<br><br>
The files are stored in <em>Twidlit.jar</em>, but you can access them by using <em>File > Preferences...</em> to choose a location to store them. 
Twidlit will copy any of them not already there to that location, and will read them from there next time it starts. 
Just delete any that you don't edit, or that you want to revert to the defaults.
The syntax is described <a href='syn.html#types'>here<a>.
<a name='preferences'>
<h2><tt>twidlit.preferences</tt></h2>
<dl>
<dt><tt>background.color 0xf5f5d5</tt><br>
<dd>The color of the background of most windows.
<dt><tt>border.color 0xc0c0a0</tt><br>
<dd>The color of the border on the mapping dialog.
<dt><tt>chord.keys.display.msec 1000</tt><br>
<dd>The milliseconds for which a chord's keystrokes are displayed in the <a href='#text'>Text pane</a> (random chording only). 
<dt><tt>chord.prompt Press the chord shown.</tt><br>
<dd>The prompt message in the <a href='#text'>Text pane</a> (random chording only). 
<dt><tt>chord.times.stored 16</tt><br>
<dd>The number of times recorded for each chord (it must be must be one of [1, 2, 4, 8, 16, 32, 64]). 
Once the limit is reached new times replace the oldest. 
<dt><tt>chord.wait.autoscale.step 8</tt><br>
<dd>The chord presses between automatic scaling of the <a href="#wait">chord wait</a> from the mean of means. 
<dt><tt>chord.wait.autoscale.mean.percent 50</tt><br>
<dd>The <a href="#wait">chord wait</a> is automatically scaled to make the mean of means this percent of it. 
<dt><tt>chord.wait.chord.show.percent 33</tt><br>
<dd>The percent of the <a href="#wait">chord wait</a> for which a chord is highlighted in the Twiddler window if there is no delay.
Set this to zero to turn it off. 
<dt><tt>chord.wait.delay.chord.show.percent 10</tt><br>
<dd>The percent of the <a href="#wait">chord wait</a> for which a chord is highlighted in the Twiddler window after a delay.
Set this to zero to turn it off. 
<dt><tt>chord.wait.mark.percent 20</tt><br>
<dd>The percent of the <a href="#wait">chord wait</a> for which a pressed chord is marked in the Twiddler window. 
Set this to zero to turn off chord marking. 
<dt><tt>chord.wait.timed.percent 200</tt><br>
<dd>The percentage of the <a href="#wait">chord wait</a> for which a chord is timed. 
<dt><tt>count.repeats.max 2</tt><br>
<dd>When character frequency counting, any more are ignored after this many of the same character in a row.
<dt><tt>display.format std</tt><br>
<dd>The <a href="syn.html#keystroke">format</a> used to represent characters and keystrokes in the display. 
The options are <tt>std</tt>, <tt>esc</tt>, <tt>hex</tt> and <tt>tag</tt>. 
<dt><tt>file.format std</tt><br>
<dd>The <a href="syn.html#keystroke">format</a> used to represent characters and keystrokes in text files. 
The options are <tt>std</tt>, <tt>esc</tt>, <tt>hex</tt> and <tt>tag</tt>. 
<dt><tt>key.wait.msec 80</tt><br>
<dd>The milliseconds Twidlit waits for a further keystroke to arrive from the Twiddler before converting the accumulated keys into a chord.
<dt><tt>new.line windows</tt><br>
<dd>The new line style used in text files. 
Delete this setting if not using Windows line ends.
<dt><tt>prompt.font SansSerif</tt><br>
<dd>The font used for the prompt in the Text pane. 
<dt><tt>progress.step.msec 150</tt><br>
<dd>The milliseconds between updates of the Twiddler window progress bar.
<dt><tt>slider.height 50</tt><br>
<dd>The height of a slider in the Settings window. 
<dt><tt>slider.step.width 50</tt><br>
<dd>The width of a step in the slider in the Settings window. 
<dt><tt>text.color lightGray</tt><br>
<dd>The color of text in the Text pane. 
<dt><tt>text.highlight.color black</tt><br>
<dd>The color of highlighted text in the Text pane. 
<dt><tt>text.font Serif</tt><br>
<dd>The font used for keystrokes in the Text pane. 
Serif helps distinguish 'l' and 'I' and so on.
<dt><tt>text.size 48</tt><br>
<dd>The size of text in the Text pane. 
<dt><tt>text.visible.space 0x87</tt><br>
<dd>The glyph used to highlight a space in the Text pane. 
<dt><tt>twiddler.background.color black</tt><br>
<dd>The background color of the Twiddler window.
<dt><tt>twiddler.button.color lightGray</tt><br>
<dd>The color of the buttons and progress bar in the Twiddler window.
<dt><tt>twiddler.highlight.color red</tt><br>
<dd>The color used to highlight the buttons of a chord in the Twiddler window.
<dt><tt>twiddler.label.color white</tt><br>
<dd>The color of the thumb button labels in the Twiddler window.
<dt><tt>twiddler.mark.match.color yellow</tt><br>
<dd>The color used to mark a chord that matches the one highlighted.
<dt><tt>twiddler.mark.mismatch.color black</tt><br>
<dd>The color used to mark a chord that does not match the one highlighted.
<dt><tt>window.border.size 8</tt><br>
<dd>The size of the border on some windows.
</dl>

<a name='keycode'>
<h2><tt>twidlit.value.keys</tt>, <tt>twidlit.name.keys</tt> and <tt>twidlit.event.keys</tt></h2>
Twidlit is set up to use the US keyboard mapping. 
If yours is different you can probably find it in <a href="http://www.w3.org/TR/DOM-Level-3-Events-code">www.w3.org/TR/DOM-Level-3-Events-code</a> and change these files. 
<h2><tt>twidlit.unprintable.keys</tt></h2>
Some ASCII values are unprintable (<tt>Backspace</tt>, for example). 
When every keystroke needs to be visible the values in this file are treated specially.
<h2><tt>twidlit.duplicate.keys</tt></h2>
Some keys are duplicates (<tt>Numpad4</tt>, for example). 
You can configure your Twiddler to generate them but they never appear in text.
<h2><tt>twidlit.lost.keys</tt></h2>
Some keystrokes never reach an application (<em>&lt;Alt&gt;&lt;Tab&gt;&lt/Alt&gt;</em>, for example). 
They vary with OS, Twidlit comes set up for Windows.
</html>
